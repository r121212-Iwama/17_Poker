# オブジェクト指向プログラミングおよび演習 第12回進捗レポート

## 作成者
| 氏名           | 学籍番号    |
| -------------- | ----------- |
| 岩間　佑都　     | k19013　     |
| 外山　瑠起　     | k19074　     |
| 西澤　侑   | k19081　     |
| 馬場  健輔    | k19086　     |
| 堀田　富雅     | k19094　     |

## 仕様
- flaskを使ったゲーム

![](仕様.PNG)
#追記：　相手（COM）のカードの交換はなし、交換しないボタンの追加、次へボタンを追加
![](機能Web.PNG)
![](機能python.PNG)
- css、画面を遷移できる（担当：堀田）
- Webとpythonでのスコアやハンドのやり取り（主担当：外山，副担当：岩間）
- python　17ポーカーで、ハンドを配る、交換する、判定してスコア返す（主担当：馬場，副担当：西澤）

- アプリ完成イメージ
    ![](ホーム.PNG)
    ![](プレイ.PNG)
    ![](交換.PNG)
    ＃追記　交換しない（勝負ボタン）
    ![](勝敗.PNG)
    ＃追記　次へ（次へボタン）
    ![](終了.PNG)
    

## 作業報告
### 12月10日
- Web―Python間でやり取りするデータについて話し合った（メンバー：岩間、外山、馬場、西澤）
詳細：

&emsp;&emsp;&emsp;1.Web側　スタートボタンのイベント　Python側　残り山札、COMの手札、プレイヤーの手札を返す

&emsp;&emsp;&emsp;2.Web側　残り山札、プレイヤーの手札、交換するカードが何番目かを返す　Python側　プレイヤーの手札を返す

&emsp;&emsp;&emsp;3.Web側　プレイヤーの手札、COMの手札を返す　Python側　プレイヤーの役、勝敗、得点を返す

&emsp;&emsp;&emsp;4.Web側　得点を合算、ゲーム終了後ランキングに乗る場合JSONを書き換え

- JSONファイルの作成（メンバー：外山）
    - マージ済み

- ポーカーのスクリプトを参考に17ポーカーを作成（メンバー：馬場、西澤）
    - マージ済み
    - 課題：Web.pyから与えられる引数や、返す値を考えたものに書き換えが必要

- ホーム画面の作成（メンバー：堀田）
    - マージ済み
    - 課題：ゲーム画面の作成、遷移

### 12月11日

- jsを用いたランキングの表示（ソートを含め）（メンバー：外山）
    - マージ済み

- カードの交換（class ChangeHand： receive_my_hand(self, プレイヤーの手札のリスト, 残り山札のリスト ,何枚目を交換するか,何枚目を交換するか(or None),何枚目を交換するか(or None)))（メンバー：馬場）
    - マージ済み
    - return [交換後のプレイヤーの手札]

- カードを配る（class TrumpGame： reset_draw_cards()）（メンバー：馬場）
    - マージ済み
    - return [プレイヤーの手札、COMの手札、残りの山札]

- プレイ画面の作成（メンバー：堀田）
    - 未マージ

- 役の評価（メンバー：西澤）
    - 未マージ

- カードを配るのリストが返って、それをWebに反映（メンバー：外山）
    - 未マージ

### 12月16日
- Poker.pyの添削（他スクリプトと被っている部分）（メンバー：岩間）
    - マージ
- カードを配るをWebに反映（メンバー：外山）
    - マージ
- 役の評価（class CompareHand： check_poker_hand(self, 手札のリスト))（メンバー：西澤）
    - マージ
    - return [役の点数]

## 振り返り（感想など）
- 外山の担当している値のやり取りなどの比重が大きいので、フォローを厚めに作業を進めた。また、Web担当と被っている作業もあり、担当の堀田とのやり取りを密に行う必要がある。

- 馬場と西澤の担当している部分はほとんど終了しており、プログラムとは関係ない要素ではあるが、カードデザインや音などの素材集め、制作に作業をシフトして行こうと考えている。


## memo
- 0 : Joker 
　1: (それぞれのマーク)A
　2: (それぞれのマーク)K
　3: (それぞれのマーク)Q
　4: (それぞれのマーク)J

- ファイブカード（800点）：4枚同じ数字＋Joker
- ロイヤルストレートフラッシュ（700点）：4枚違う数字＋すべて同じマーク＋Joker
- フォーカード（600点）：4枚同じ数字（3枚同じ数字＋Joker）
- フルハウス（500点）：2枚同じ数字＋3枚同じ数字（ツーペア＋Joker）
- ストレート（400点）：4枚違う数字＋Joker
- スリーカード（300点）：3枚同じ数字（ワンペア＋Joker）
- ツーペア（200点）：2枚同じ数字＋他2枚同じ数字
- ワンペア（100点）：2枚同じ数字

- 数字の小さい順に手札リストをソート（Joker（0）が含まれる場合、それ以外で役を評価する）


